<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.73">
<link rel="alternate" type="application/rss+xml" href="/substrate-how-to-guides/blog/rss.xml" title="Substrate How-to Guides Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/substrate-how-to-guides/blog/atom.xml" title="Substrate How-to Guides Blog Atom Feed"><title data-react-helmet="true">Part IV: Interacting with your Kitties | Substrate How-to Guides</title><meta data-react-helmet="true" property="og:url" content="https://substrate-developer-hub.github.io/substrate-how-to-guides/docs/tutorials/Kitties/interacting-functions"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Part IV: Interacting with your Kitties | Substrate How-to Guides"><meta data-react-helmet="true" name="description" content="Add pallet capabilities that unleash the potential of your Substrate Kitty application."><meta data-react-helmet="true" property="og:description" content="Add pallet capabilities that unleash the potential of your Substrate Kitty application."><meta data-react-helmet="true" name="keywords" content="pallet design, intermediate, runtime"><link data-react-helmet="true" rel="shortcut icon" href="/substrate-how-to-guides/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://substrate-developer-hub.github.io/substrate-how-to-guides/docs/tutorials/Kitties/interacting-functions"><link data-react-helmet="true" rel="alternate" href="https://substrate-developer-hub.github.io/substrate-how-to-guides/docs/tutorials/Kitties/interacting-functions" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://substrate-developer-hub.github.io/substrate-how-to-guides/docs/tutorials/Kitties/interacting-functions" hreflang="x-default"><link rel="stylesheet" href="/substrate-how-to-guides/assets/css/styles.ddf35dcd.css">
<link rel="preload" href="/substrate-how-to-guides/assets/js/styles.4e9475fc.js" as="script">
<link rel="preload" href="/substrate-how-to-guides/assets/js/runtime~main.fee133fb.js" as="script">
<link rel="preload" href="/substrate-how-to-guides/assets/js/main.e23bc034.js" as="script">
<link rel="preload" href="/substrate-how-to-guides/assets/js/1.d7085503.js" as="script">
<link rel="preload" href="/substrate-how-to-guides/assets/js/2.4b4dc6ee.js" as="script">
<link rel="preload" href="/substrate-how-to-guides/assets/js/3.e54a3ba2.js" as="script">
<link rel="preload" href="/substrate-how-to-guides/assets/js/1be78505.422b7c74.js" as="script">
<link rel="preload" href="/substrate-how-to-guides/assets/js/57.c98a8113.js" as="script">
<link rel="preload" href="/substrate-how-to-guides/assets/js/935f2afb.6c7f8f7e.js" as="script">
<link rel="preload" href="/substrate-how-to-guides/assets/js/55.2ccda45a.js" as="script">
<link rel="preload" href="/substrate-how-to-guides/assets/js/17896441.338d778a.js" as="script">
<link rel="preload" href="/substrate-how-to-guides/assets/js/ee7aaf96.62ea27a8.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/substrate-how-to-guides/"><img src="/substrate-how-to-guides/img/substrate.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/substrate-how-to-guides/img/substrate.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Welcome</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/substrate-how-to-guides/docs/intro">How-to Guides</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/substrate-developer-hub/substrate-how-to-guides/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/substrate-how-to-guides/"><img src="/substrate-how-to-guides/img/substrate.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/substrate-how-to-guides/img/substrate.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Welcome</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/substrate-how-to-guides/docs/intro">How-to Guides</a></li><li class="menu__list-item"><a href="https://github.com/substrate-developer-hub/substrate-how-to-guides/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/substrate-how-to-guides/docs/intro">Welcome</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/basics/basic-pallet-integration">Basic pallet integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/basics/mint-token">Primitive token mint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/basics/genesis-config-balances">Configuring genesis for Balances</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/basics/configurable-constants">Configure a runtime constant</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/basics/basic-tx-weight-calculations">Calculating transaction weights</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/basics/basic-instantiable-pallets">Basic instantiable pallets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/basics/helper-functions">Using helper functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/basics/publish-pallet">Publish a pallet to its own crate</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Pallet design</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/pallet-design/storage-value-struct">Create and use a struct in storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/pallet-design/simple-crowdfund">Simple crowdfund</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/pallet-design/lockable-currency">Simple staking pallet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/pallet-design/add-contracts-pallet">Use the Contracts pallet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/pallet-design/randomness">Generating on-chain randomness</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/pallet-design/storage-map">Create and use a storage Map</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Weights</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/weights/conditional-weight-struct">Conditional weighting struct</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/weights/linear-weight-struct">Linear weighting struct</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/weights/quadratic-weight-struct">Quadratic weighting struct</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/weights/calculate-fees">Calculating fees</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Testing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/testing/test-transfer">Testing a transfer function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/testing/basic-pallet-testing">Setting up tests for your pallet</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Storage Migrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/storage-migrations/nicks-migration">Basic storage migration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/storage-migrations/migration-steps-polkadotjs">Trigger a storage migration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/storage-migrations/migration-tests">Migration tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/storage-migrations/ringbuffer">Ringbuffer queue</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/tools/integrate-try-runtime">Include `try-runtime` in your project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/tools/create-tx-wrapper-package">Create a `txwrapper` for a chain</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/tools/auction-winners-sidecar">Track Parachain auction winners using Substrate API Sidecar</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Consensus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/consensus/pow-consensus">Configure a chain to POW consensus</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Parachains</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/parachains/overview">Parachains Guide Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Collators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/parachains/a-collators/start-collator-node">Start a collator node and add more collators</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Runtime Upgrades</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/parachains/b-runtime-upgrades/runtime-upgrades">Preparing for On-Chain Upgrades</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/parachains/b-runtime-upgrades/setup-runtime-and-client">Set-up your runtime and client</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Registration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/parachains/c-registration/register-paraID">How to reserve a ParaID</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/parachains/c-registration/register-parachain">How to register your Parachain</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Other</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/parachains/e-other/start-testnet">Start a testnet on Rococo</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Kitties</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-how-to-guides/docs/tutorials/Kitties/overview">😺 Substrate Kitties</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-how-to-guides/docs/tutorials/Kitties/basic-setup">Part I: Basic set-up</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-how-to-guides/docs/tutorials/Kitties/create-kitties">Part II: Uniqueness, custom types and storage maps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-how-to-guides/docs/tutorials/Kitties/dispatchables-and-events">Part III: Dispatchables, Events and Errors</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/substrate-how-to-guides/docs/tutorials/Kitties/interacting-functions">Part IV: Interacting with your Kitties</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/substrate-how-to-guides/docs/tutorials/Kitties/kitties-frontend">Part V: Kitties front-end</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Want to Contribute?</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/substrate-how-to-guides/docs/contribute/how-to-template">How-to Template</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row_3e6r"><div class="column_WRIl doc_LmRx"><div class="row"><div class="col"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Part IV: Interacting with your Kitties</h1></header><div class="markdown"><p><em>Add pallet capabilities that unleash the potential of your Substrate Kitty application.</em></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="overview"></a>Overview<a class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>Up until this point in the tutorial, we&#x27;ve built a chain capable of only creating and tracking the ownership of Kitties. In this part of the tutorial, we want to make our runtime more
like a game by introducing other functions like buying and
selling Kitties. In order to achieve this, we&#x27;ll first need to enable users
to update the price of their Kitty. Then we can add functionality to enable users to transfer, buy and breed Kitties.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="learning-outcomes"></a>Learning outcomes<a class="hash-link" href="#learning-outcomes" title="Direct link to heading">#</a></h2><p>➡️ Learn how to create a dispatchable that updates an object in storage.</p><p>➡️ Getting a value from a struct in storage.</p><p>➡️ How to use the <code>transfer</code> from FRAME&#x27;s Currency trait.</p><p>➡️ How to write sanity check using <code>ensure!()</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="steps"></a>Steps<a class="hash-link" href="#steps" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="1-set-a-price-for-each-kitty"></a>1. Set a price for each Kitty<a class="hash-link" href="#1-set-a-price-for-each-kitty" title="Direct link to heading">#</a></h3><p>In <a href="https://github.com/substrate-developer-hub/substrate-how-to-guides/blob/main/static/code/kitties-tutorial/04-interacting-functions.rs" target="_blank" rel="noopener noreferrer">the helper file for this part of the tutorial</a>, you&#x27;ll notice that the structure of <code>set_price</code> is already laid out.</p><p>Your job is to replace ACTION lines #1, #2 and #3 lines with what you&#x27;ll learn in sections A-D below. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="a-checking-kitty-owner"></a>A. Checking Kitty owner<a class="hash-link" href="#a-checking-kitty-owner" title="Direct link to heading">#</a></h4><p>As we create functions which modify objects in storage, we
should always check that only the appropriate users are successful when calling those dispatchable functions.</p><p>For modifying a Kitty object, we&#x27;ll first need to get the <code>Hash</code> value of the owner of the
Kitty to ensure that it&#x27;s the same as the sender.</p><blockquote><p><code>KittyOwner</code> stores a mapping to an <code>Option&lt;T::AccountId&gt;</code> but that
given <code>Hash</code> may not point to a generated and owned Kitty yet.
This means, whenever we fetch the owner of a Kitty, we need to
resolve the possibility that it returns <code>None</code>. This could be
caused by bad user input or even some sort of problem with our
runtime. Checking will help prevent these kinds of problems.</p></blockquote><p>The general pattern for an ownership check will look something like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">let owner = Self::owner_of(object_id).ok_or(&quot;No owner for this object&quot;)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ensure!(owner == sender, &quot;You are not the owner&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><strong>Your turn!</strong> Paste in this code snippet to replace ACTION #1:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">            // Check that the Kitty has an owner (i.e. if it exists).</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            let owner = Self::owner_of(kitty_id).ok_or(&quot;No owner for this kitty&quot;)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            // Make sure the owner matches the corresponding owner.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            ensure!(owner == sender, &quot;You do not own this cat&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="b-updating-a-the-price-of-our-kitty-object"></a>B. Updating a the price of our Kitty object<a class="hash-link" href="#b-updating-a-the-price-of-our-kitty-object" title="Direct link to heading">#</a></h4><p>Every Kitty object has a price attribute that we&#x27;ve set to <a href="https://doc.rust-lang.org/std/primitive.u8.html" target="_blank" rel="noopener noreferrer"><code>0u8</code></a> as a default value inside the
<code>create_kitty</code> function in <a href="/substrate-how-to-guides/docs/tutorials/Kitties/dispatchables-and-events#2-write-the-create_kitty-dispatchable">Part II</a>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">let new_kitty = Kitty {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id: random_hash,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    dna: random_hash,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    price: 0u8.into(), // &lt;-- here </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    gender: Kitty::&lt;T, T&gt;::gender(random_hash),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>We&#x27;ll use this default value to check if the Kitty is for sale when we write the <code>buy_kitty</code> dispatchable in the next section.</p></div></div><p>To update the price of a Kitty, we&#x27;ll need to:</p><ul><li>Get the Kitty object.</li><li>Update the price.</li><li>Push it back into storage.</li></ul><p>Changing a value in an existing object in storage would be written in the following way:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">let mut object = Self::get_object(object_id);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">object.value = new_value;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;Object&lt;T&gt;&gt;::insert(object_id, object);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Rust expects you to declare a variable as mutable (using the <code>mut</code> keyword) whenever its value is going to be updated.</p></div></div><p><strong>Your turn!</strong> Paste in the following snippet to replace the ACTION #2 line: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Set the Kitty price.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">let mut kitty = Self::kitty(kitty_id);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kitty.price = new_price;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Update new Kitty infomation to storage.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;Kitties&lt;T&gt;&gt;::insert(kitty_id, kitty);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="c-sanity-checks"></a>C. Sanity checks<a class="hash-link" href="#c-sanity-checks" title="Direct link to heading">#</a></h4><p>In a similar vain of checking permissions, we also need to ensure that our runtime performs regular sanity
checks to mitigate any risk that things go wrong — such as users flooding the chain with heavy transactions or anything that could break the chain.</p><p>If we&#x27;re creating a function geared to update the value of an object in storage,
the first thing we better do is make sure the object exists at all.
By using <code>ensure!</code>, we can create a safe guard against poor user input, whether malicious or unintentional. For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ensure!(&lt;MyObject&lt;T&gt;&gt;::exists(object_id));</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This is already declared in the template helper code, but is an important check to remind ourselves about.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="d-deposit-an-event"></a>D. Deposit an event<a class="hash-link" href="#d-deposit-an-event" title="Direct link to heading">#</a></h4><p>Once all checks are passed and the new price is written to storage, we can deposit an event
<a href="/substrate-how-to-guides/docs/tutorials/Kitties/dispatchables-and-events#4-implement-pallet-events">just like we did in Part III</a>.
Replace the line marked as ACTION #3 with:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Self::deposit_event(Event::PriceSet(sender, kitty_id, new_price));</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p> Now whenever the <code>set_price</code> dispatchable is called successfully, it will emit a <code>PriceSet</code> event. 🎉</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="2-transfer-a-kitty"></a>2. Transfer a Kitty<a class="hash-link" href="#2-transfer-a-kitty" title="Direct link to heading">#</a></h3><p>Our pallet&#x27;s storage items already handles ownership of Kitties
— this means that all our <code>transfer_kitty</code> function needs to do is update following storage items:</p><ul><li><code>KittyOwner</code>: to update the owner of the Kitty.</li><li><code>OwnedKittiesArray</code>: to update the owned Kitty map for each acount.</li><li><code>OwnedKittiesIndex</code>: to update the owned Kitty index for each owner.</li><li><code>OwnedKittiesCount</code>: to update the amount of Kitties a account has.</li></ul><p>You already have the tools you&#x27;ll need to create the transfer functionality from <a href="#1-set-a-price-for-each-kitty">part 1</a>. The main difference in how we will
create this functionality for our runtime is that it will have <strong>two parts to it</strong>:</p><ul><li><ol><li><strong>A dispatchable function called <code>transfer()</code>:</strong> this is what&#x27;s exposed by your pallet.</li></ol></li><li><ol start="2"><li><strong>A private function called <code>transfer_from()</code>:</strong> this will be a helper function called by <code>transfer()</code> to handle all storage updates when transferring a Kitty.</li></ol></li></ul><p>Separating the logic this way makes the private <code>transfer_from()</code> function reusable
by other dispatchable functions of our pallet, without needing to rewrite the same logic over and over again. In our case, we&#x27;re going to reuse it for
the <code>buy_kitty</code> dispatchable we&#x27;re creating in the next section.</p><p>Paste in the following snippet to replace ACTION #4 in the template code:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[pallet::weight(100)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn transfer(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    origin: OriginFor&lt;T&gt;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    to: T::AccountId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    kitty_id: T::Hash,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; DispatchResultWithPostInfo {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let sender = ensure_signed(origin)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Verify Kitty owner: must be the account invoking this transaction.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let owner = Self::owner_of(kitty_id).ok_or(&quot;No owner for this kitty&quot;)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ensure!(owner == sender, &quot;You do not own this kitty&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Transfer.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Self::transfer_from(sender, to, kitty_id)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Ok(().into())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="3-buy-a-kitty"></a>3. Buy a Kitty<a class="hash-link" href="#3-buy-a-kitty" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="a-check-a-kitty-is-for-sale"></a>A. Check a Kitty is for Sale<a class="hash-link" href="#a-check-a-kitty-is-for-sale" title="Direct link to heading">#</a></h4><p>We can use the <code>set_price()</code> function to check if the Kitty is for sale. Remember that we said a Kitty with the
price of <code>0</code> means it&#x27;s not for sale? Easy enough then: write this check by simple using <code>ensure!()</code> (replacing line ACTION #5):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Check if the Kitty is for sale.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ensure!(!kitty_price.is_zero(), &quot;This Kitty is not for sale!&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ensure!(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    kitty_price &lt;= ask_price,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;This Kitty is out of your budget!&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="b-making-a-payment"></a>B. Making a Payment<a class="hash-link" href="#b-making-a-payment" title="Direct link to heading">#</a></h4><p>In the <a href="#2-transfer-a-kitty">Step 2</a>, we added the functions necessary to transfer the <em>ownership</em> of our
Kitties. But, in the event that the Kitty was bought or sold, we never actually specified a currrency associated to our pallet.</p><p>In this step we&#x27;ll learn how to use <a href="https://substrate.dev/rustdocs/latest/frame_support/traits/tokens/currency/index.html" target="_blank" rel="noopener noreferrer">FRAME&#x27;s Currency trait</a> to adjust account balances
using its very own <a href="https://crates.parity.io/frame_support/traits/tokens/currency/trait.Currency.html#tymethod.transfer" target="_blank" rel="noopener noreferrer"><code>transfer</code> method</a>. It&#x27;s useful to understand why it&#x27;s important to use the <code>transfer</code> method in particular and how we&#x27;ll be accessing it:</p><ul><li><p>The reason we&#x27;ll be using it is to ensure our runtime has the same understanding of currency throughout the pallets
it interacts with. The way that we ensure this is to use the <code>Currency</code> trait
from <code>frame_support</code>.</p></li><li><p>Conveniently, it handles a
<a href="https://substrate.dev/rustdocs/latest/frame_support/traits/tokens/currency/trait.Currency.html#associatedtype.Balance" target="_blank" rel="noopener noreferrer"><code>Balance</code></a> type, making it compatible with <a href="https://substrate.dev/rustdocs/latest/pallet_balances/index.html" target="_blank" rel="noopener noreferrer"><code>pallet_balances</code></a> which we&#x27;ve been
using in our pallet&#x27;s configuration trait. Take a look at how the <code>transfer</code>
function we&#x27;ll be using is structured (from the <a href="https://substrate.dev/rustdocs/latest/frame_support/traits/tokens/currency/trait.Currency.html#tymethod.transfer" target="_blank" rel="noopener noreferrer">Rust docs</a>):</p></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">fn transfer(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    source: &amp;AccountId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    dest: &amp;AccountId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    value: Self::Balance,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    existence_requirement: ExistenceRequirement</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; DispatchResult</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now we can finally make use of the  <code>frame_support</code> imports – <code>Currency</code> and <code>ExistenceRequirement</code> – that we
<a href="/substrate-how-to-guides/docs/tutorials/Kitties/basic-setup#2-write-out-pallet_kitties-scaffold">initially started with in Part I</a>.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Feeling confident?</h5></div><div class="admonition-content"><p>Here&#x27;s how you would write <code>buy_Kitty</code> from scratch.</p><p><strong>Perform basic sanity checks</strong></p><ul><li>it will take 3 arguments: <code>origin</code>, <code>Kitty_id</code> and <code>max_price</code></li><li>check that <code>Kitty_id</code> corresponds to a Kitty in storage</li><li>check that the Kitty has an owner</li></ul><p><strong>Check if purchasing a Kitty is authorized</strong></p><ul><li>check that the account buying the Kitty doesn&#x27;t already own it</li><li>check that the price of the Kitty is not zero (if it is, throw an error)</li><li>check that the Kitty price is not greater than <code>ask_price</code></li></ul><p><strong>Update storage items</strong></p><ul><li>use the <code>transfer</code> method from the <code>Currency</code> trait to update
account balances</li><li>use our pallet&#x27;s <code>transfer_from</code> function to change the ownership
of the Kitty from <code>owner</code> to <code>sender</code></li><li>update the price of the Kitty to the price it was sold at</li></ul></div></div><p><strong>Your turn!</strong> Paste in the following code snippet, replacing ACTION #6:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;pallet_balances::Pallet&lt;T&gt; as Currency&lt;_&gt;&gt;::transfer(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &amp;sender,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      &amp;owner,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      kitty_price,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      ExistenceRequirement::KeepAlive,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  )?;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now that that the <code>transfer</code> method from FRAME&#x27;s Currency trait has been called, we can call a private helper function
called <code>transfer_from</code> (which we&#x27;ll write later) to write the new changes in ownership to storage. Replace this with what&#x27;s on
line ACTION #7:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Transfer ownership of Kitty.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Self::transfer_from(owner.clone(), sender.clone(), kitty_id).expect(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;`owner` is shown to own the kitty; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    `owner` must have greater than 0 kitties, so transfer cannot cause underflow; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    `all_kitty_count` shares the same type as `owned_kitty_count` \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    and minting ensure there won&#x27;t ever be more than `max()` kitties, \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    which means transfer cannot cause an overflow; \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    qed&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Set the price of the Kitty to the new price it was sold at.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">kitty.price = ask_price.into();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">&lt;Kitties&lt;T&gt;&gt;::insert(kitty_id, kitty);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="4-breed-kitties"></a>4. Breed Kitties<a class="hash-link" href="#4-breed-kitties" title="Direct link to heading">#</a></h3><p>The logic behind breeding two Kitties is to multiply each corresponding DNA segment from two Kitties,
which will produce a new DNA sequence. Then, that DNA is used when minting a new Kitty. </p><p>Paste in the following to complete the <code>breed_kitty</code> function, replacing line ACTION #8:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let random_hash = Self::random_hash(&amp;sender);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let kitty_1 = Self::kitty(kitty_id_1);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let kitty_2 = Self::kitty(kitty_id_2);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let mut final_dna = kitty_1.dna;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    for (i, (dna_2_element, r)) in kitty_2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .dna</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .as_ref()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .iter()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .zip(random_hash.as_ref().iter())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .enumerate()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        if r % 2 == 0 {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            final_dna.as_mut()[i] = *dna_2_element;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now that we&#x27;ve used the user inputs of Kitty IDs and combined them to create a new unique Kitty ID, we can
use the <code>mint()</code> function to wirte that new Kitty to storage (replace line ACTION #9):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">let new_kitty = Kitty {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    id: random_hash,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    dna: final_dna,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    price: 0u8.into(),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    gender: Kitty::&lt;T, T&gt;::gender(final_dna),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Self::mint(sender, random_hash, new_kitty)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Self::increment_nonce()?;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>And ofcourse, after calling the <code>mint</code> function, we call <code>increment_nonce()</code> to maintain maximum entropy as described in <a href="/substrate-how-to-guides/docs/tutorials/Kitties/create-kitties#nonce">Part II</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="5-write-the-transfer_from-helper"></a>5. Write the <code>transfer_from</code> helper<a class="hash-link" href="#5-write-the-transfer_from-helper" title="Direct link to heading">#</a></h3><p>Similar to writing the <code>mint</code> function, the <code>transfer_from</code> function is a helper called by the public <code>buy_kitty</code> dipatchable to perform all storage updates once a Kitty has been bought and sold.</p><p>Copy the following to replace ACTION #10:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Helper to handle transferring a Kitty from one account to another.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">fn transfer_from(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    from: T::AccountId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    to: T::AccountId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    kitty_id: T::Hash,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; DispatchResult {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Verify that the owner is the rightful owner of this Kitty.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let owner = Self::owner_of(kitty_id).ok_or(&quot;No owner for this kitty&quot;)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ensure!(owner == from, &quot;&#x27;from&#x27; account does not own this kitty&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Address to send from.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let owned_kitty_count_from = Self::owned_kitty_count(&amp;from);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Address to send to.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let owned_kitty_count_to = Self::owned_kitty_count(&amp;to);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Increment the amount of owned Kitties by 1.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let new_owned_kitty_count_to = owned_kitty_count_to</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .checked_add(1)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .ok_or(&quot;Transfer causes overflow of &#x27;to&#x27; kitty balance&quot;)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Increment the amount of owned Kitties by 1.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let new_owned_kitty_count_from = owned_kitty_count_from</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .checked_sub(1)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .ok_or(&quot;Transfer causes underflow of &#x27;from&#x27; kitty balance&quot;)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Get current Kitty index.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let kitty_index = &lt;OwnedKittiesIndex&lt;T&gt;&gt;::get(kitty_id);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Update storage items that require updated index.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    if kitty_index != new_owned_kitty_count_from {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        let last_kitty_id =</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            &lt;OwnedKittiesArray&lt;T&gt;&gt;::get((from.clone(), new_owned_kitty_count_from));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;OwnedKittiesArray&lt;T&gt;&gt;::insert((from.clone(), kitty_index), last_kitty_id);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        &lt;OwnedKittiesIndex&lt;T&gt;&gt;::insert(last_kitty_id, kitty_index);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Write new Kitty ownership to storage items.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;KittyOwner&lt;T&gt;&gt;::insert(&amp;kitty_id, Some(&amp;to));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;OwnedKittiesIndex&lt;T&gt;&gt;::insert(kitty_id, owned_kitty_count_to);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;OwnedKittiesArray&lt;T&gt;&gt;::remove((from.clone(), new_owned_kitty_count_from));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;OwnedKittiesArray&lt;T&gt;&gt;::insert((to.clone(), owned_kitty_count_to), kitty_id);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;OwnedKittiesCount&lt;T&gt;&gt;::insert(&amp;from, new_owned_kitty_count_from);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &lt;OwnedKittiesCount&lt;T&gt;&gt;::insert(&amp;to, new_owned_kitty_count_to);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Self::deposit_event(Event::Transferred(from, to, kitty_id));</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Ok(())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>//TODO : Write relevant Errors </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="6-write-the-transfer-dispatchable"></a>6. Write the <code>transfer</code> dispatchable<a class="hash-link" href="#6-write-the-transfer-dispatchable" title="Direct link to heading">#</a></h3><p>Now that we&#x27;ve included the <code>transfer_from</code> helper function, let&#x27;s write out the <code>transfer</code> dispatchable. This will allow
any user to attempt to transfer a Kitty to another account (it&#x27;s important to <em>verify first and write last</em>!). </p><p>Paste the following snippet to replace ACTION #11:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[pallet::weight(100)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn transfer(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    origin: OriginFor&lt;T&gt;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    to: T::AccountId,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    kitty_id: T::Hash,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">) -&gt; DispatchResultWithPostInfo {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let sender = ensure_signed(origin)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Verify Kitty owner: must be the account invoking this transaction.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    let owner = Self::owner_of(kitty_id).ok_or(&quot;No owner for this kitty&quot;)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ensure!(owner == sender, &quot;You do not own this kitty&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // Transfer.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Self::transfer_from(sender, to, kitty_id)?;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Ok(().into())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>By now the above pattern should be familiar. We always check that the transaction is signed; then we verify that the Kitty
being transfer is owned by the sender of this transaction; and last we call the <code>transfer_from</code> helper which will update
all storage items appropriately.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="7-genesis-configuration"></a>7. Genesis configuration<a class="hash-link" href="#7-genesis-configuration" title="Direct link to heading">#</a></h3><p>The final step before our pallet is ready to be used is to set the genesis state of our storage items. We&#x27;ll make use of
FRAME&#x27;s <code>[pallet::genesis_config]</code> to do this. Essentially, we&#x27;re declaring what the Kitties object in storage contains
in the genesis block. Copy the following code to replace ACTION #12: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><div tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Our pallet&#x27;s genesis configuration.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[pallet::genesis_config]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">pub struct GenesisConfig&lt;T: Config&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    pub kitties: Vec&lt;(T::AccountId, T::Hash, T::Balance)&gt;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// Required to implement default for GenesisConfig.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[cfg(feature = &quot;std&quot;)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">impl&lt;T: Config&gt; Default for GenesisConfig&lt;T&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fn default() -&gt; GenesisConfig&lt;T&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        GenesisConfig { kitties: vec![] }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">#[pallet::genesis_build]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">impl&lt;T: Config&gt; GenesisBuild&lt;T&gt; for GenesisConfig&lt;T&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fn build(&amp;self) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        for &amp;(ref acct, hash, balance) in &amp;self.kitties {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            let k = Kitty {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                id: hash,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                dna: hash,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                price: balance,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                gender: Gender::Male,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            let _ = &lt;Pallet&lt;T&gt;&gt;::mint(acct.clone(), hash, k);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="8-update-runtimelibrs-and-interact-with-your-kitties"></a>8. Update <code>runtime/lib.rs</code> and interact with your Kitties<a class="hash-link" href="#8-update-runtimelibrs-and-interact-with-your-kitties" title="Direct link to heading">#</a></h3><p>If you&#x27;ve completed all of the preceding parts and steps of this tutorial, you&#x27;re
all geared up to run your chain and start interacting with all the new capabilities of your Kitties pallet.</p><p>Build and run your chain using the following commands:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">cargo build --release</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">./target/release/node-kitties --dev</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now check your work using the Polkadot-JS Apps UI just like <a href="/substrate-how-to-guides/docs/Tutorials/Kitties/dispatchables-and-events#5-testing-with-polkadotjs-apps">we did in the previous part</a>. Once your chain is running and connected to the PolkadotJS Apps UI, perform these manual checks:</p><ul><li>Fund multiple users with tokens so they can all participate</li><li>Have each user create multiple Kitties</li><li>Try to transfer a Kitty from one user to another using the right and wrong owner</li><li>Try to set the price of a Kitty using the right and wrong owner</li><li>Buy a Kitty using an owner and another user</li><li>Use too little funds to purchase a Kitty</li><li>Overspend on the cost of the Kitty and ensure that the balance is reduced appropriately</li><li>Breed a Kitty and check that the new DNA is a mix of the old and new</li></ul><p>After all of these actions, confirm that all users have the right number of Kitties, the total Kitty count is correct, and any other storage variables are correctly represented</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Congratulations!</h5></div><div class="admonition-content"><p>You&#x27;ve successfully created the backend of a fully functional Substrate chain capable of creating and managing Substrate Kitties. It could also be abstracted to other NFT-like use cases. Most importantly, at this point in the tutorial you should have all the knowledge you need to start creating your own pallet logic and dispatchable functions.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="next-steps"></a>Next steps<a class="hash-link" href="#next-steps" title="Direct link to heading">#</a></h2><ul><li>Connect your chain to the front-end template</li><li>Customize the template using PolkadotJS API</li><li>Interact with your chain</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/substrate-developer-hub/substrate-how-to-guides/edit/main/docs/09-tutorials/01-Kitties/interacting-functions.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/substrate-how-to-guides/docs/tutorials/Kitties/dispatchables-and-events"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Part III: Dispatchables, Events and Errors</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/substrate-how-to-guides/docs/tutorials/Kitties/kitties-frontend"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Part V: Kitties front-end »</div></a></div></nav></div></div></div></div></div><div class="column_WRIl editor_IkRm"><h1>Monaco Editor Unsupported with Server Side Rendering</h1></div></div><div><fieldset class="MuiBox-root jss37"><legend class="MuiTypography-root MuiTypography-body1">Was this guide useful?</legend><span class="MuiRating-root"><label class="MuiRating-label" for="customized-icons-1"><span class="MuiRating-icon MuiRating-iconFilled"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5z"></path></svg></span><span class="MuiRating-visuallyhidden">Very Dissatisfied</span></label><input type="radio" value="1" id="customized-icons-1" name="customized-icons" class="MuiRating-visuallyhidden"><label class="MuiRating-label" for="customized-icons-2"><span class="MuiRating-icon MuiRating-iconFilled"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14-.85-.56-1.87-.89-2.98-.89-1.11 0-2.13.33-2.99.88.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52z"></path></svg></span><span class="MuiRating-visuallyhidden">Dissatisfied</span></label><input type="radio" value="2" id="customized-icons-2" name="customized-icons" checked="" class="MuiRating-visuallyhidden"><label class="MuiRating-label" for="customized-icons-3"><span class="MuiRating-icon MuiRating-iconEmpty"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm0-4c-.73 0-1.38-.18-1.96-.52-.12.14-.86.98-1.01 1.15.86.55 1.87.87 2.97.87 1.11 0 2.12-.33 2.98-.88-.97-1.09-.01-.02-1.01-1.15-.59.35-1.24.53-1.97.53z"></path></svg></span><span class="MuiRating-visuallyhidden">Neutral</span></label><input type="radio" value="3" id="customized-icons-3" name="customized-icons" class="MuiRating-visuallyhidden"><label class="MuiRating-label" for="customized-icons-4"><span class="MuiRating-icon MuiRating-iconEmpty"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M12 16c-1.48 0-2.75-.81-3.45-2H6.88c.8 2.05 2.79 3.5 5.12 3.5s4.32-1.45 5.12-3.5h-1.67c-.69 1.19-1.97 2-3.45 2zm-.01-14C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></svg></span><span class="MuiRating-visuallyhidden">Satisfied</span></label><input type="radio" value="4" id="customized-icons-4" name="customized-icons" class="MuiRating-visuallyhidden"><label class="MuiRating-label" for="customized-icons-5"><span class="MuiRating-icon MuiRating-iconEmpty"><svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true"><circle cx="15.5" cy="9.5" r="1.5"></circle><circle cx="8.5" cy="9.5" r="1.5"></circle><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4H7z"></path></svg></span><span class="MuiRating-visuallyhidden">Very Satisfied</span></label><input type="radio" value="5" id="customized-icons-5" name="customized-icons" class="MuiRating-visuallyhidden"></span></fieldset></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Learn Substrate</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/substrate-how-to-guides/docs/intro">How-to Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/substrate-how-to-guides/docs/tutorials/kitties/overview">Tutorials</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">The Substrate How-to Guides are GPL 3.0 Licensed, open source and open for contributions.</div></div></div></footer></div>
<script src="/substrate-how-to-guides/assets/js/styles.4e9475fc.js"></script>
<script src="/substrate-how-to-guides/assets/js/runtime~main.fee133fb.js"></script>
<script src="/substrate-how-to-guides/assets/js/main.e23bc034.js"></script>
<script src="/substrate-how-to-guides/assets/js/1.d7085503.js"></script>
<script src="/substrate-how-to-guides/assets/js/2.4b4dc6ee.js"></script>
<script src="/substrate-how-to-guides/assets/js/3.e54a3ba2.js"></script>
<script src="/substrate-how-to-guides/assets/js/1be78505.422b7c74.js"></script>
<script src="/substrate-how-to-guides/assets/js/57.c98a8113.js"></script>
<script src="/substrate-how-to-guides/assets/js/935f2afb.6c7f8f7e.js"></script>
<script src="/substrate-how-to-guides/assets/js/55.2ccda45a.js"></script>
<script src="/substrate-how-to-guides/assets/js/17896441.338d778a.js"></script>
<script src="/substrate-how-to-guides/assets/js/ee7aaf96.62ea27a8.js"></script>
</body>
</html>